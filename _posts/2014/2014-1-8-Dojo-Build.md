---
layout : post
title : Dojo Build(转)
category : Web技术
tagline : "学习与实践"
tags : [Dojo]
---
{% include JB/setup %}


1.首先下载dojo 1.9.2的 source , 解压后一共四个文件夹: dojo,dijit,dojox,util


2.在util\buildscripts\profiles文件夹中新建文件 mydojo.profile.js

dependencies = {  
      
    basePath: "../../../", //  
  releaseDir: "erms",  
  action: "release",  
  cssOptimize: "comments",  
  mini: true,  
  stripConsole: "all",  
  
    action : "clean,release",  
  
    stripConsole: "normal",  
  
    selectorEngine:"acme",  
  
    layers : [  
  
        {  
  
            name: "dojo.js",  
  
            dependencies: [  
  
                "dojo.loadInit",  
  
                "dojo.text",  
  
                "dojo.i18n",  
  
                "dijit._base",  
  
                "dijit._Widget",  
  
                "dijit._Templated",  
  
                "dijit._TemplatedMixin",  
  
                "dijit._WidgetsInTemplateMixin",  
  
                "dijit.form.TextBox",  
  
                "dijit.form.TimeTextBox",  
  
                "dijit.form.ComboButton",  
  
                "dijit.form._ToggleButtonMixin",  
  
                "dijit.form.ToggleButton",  
  
                "dijit.form.ComboBox",  
  
                "dijit.Calendar",  
  
                "dijit.Dialog",  
  
                "dijit.TooltipDialog",  
  
                "dijit.form.Button",  
  
                "dijit.form.Form",  
  
                "dojox.encoding.base64",  
  
  
"dijit._AttachMixin",  
"dijit._base.focus",  
"dijit._base",  
"dijit._base.manager",  
"dijit._base.place",  
"dijit._base.popup",  
"dijit._base.scroll",  
"dijit._base.sniff",  
"dijit._base.typematic",  
"dijit._base.wai",  
"dijit._base.window",  
"dijit._Contained",  
"dijit._Container",  
"dijit._CssStateMixin",  
"dijit._DialogMixin",  
"dijit._editor._Plugin",  
"dijit._editor.html",  
"dijit._editor.nls.commands",  
"dijit._editor.nls.zh.commands",  
"dijit._editor.plugins.EnterKeyHandling",  
"dijit._editor.range",  
"dijit._editor.RichText",  
"dijit._FocusMixin",  
"dijit._HasDropDown",  
"dijit._KeyNavContainer",  
"dijit._KeyNavMixin",  
"dijit._MenuBase",  
"dijit._OnDijitClickMixin",  
"dijit._Templated",  
"dijit._TemplatedMixin",  
"dijit._TimePicker",  
"dijit._Widget",  
"dijit._WidgetBase",  
"dijit._WidgetsInTemplateMixin",  
"dijit.a11y",  
"dijit.a11yclick",  
"dijit.BackgroundIframe",  
"dijit.Calendar",  
"dijit.CalendarLite",  
"dijit.CheckedMenuItem",  
"dijit.Destroyable",  
"dijit.Dialog",  
"dijit.DialogUnderlay",  
"dijit.DropDownMenu",  
"dijit.Editor",  
"dijit.focus",  
"dijit.form._AutoCompleterMixin",  
"dijit.form._ButtonMixin",  
"dijit.form._CheckBoxMixin",  
"dijit.form._ComboBoxMenu",  
"dijit.form._ComboBoxMenuMixin",  
"dijit.form._DateTimeTextBox",  
"dijit.form._FormMixin",  
"dijit.form._FormSelectWidget",  
"dijit.form._FormValueMixin",  
"dijit.form._FormValueWidget",  
"dijit.form._FormWidget",  
"dijit.form._FormWidgetMixin",  
"dijit.form._ListBase",  
"dijit.form._ListMouseMixin",  
"dijit.form._RadioButtonMixin",  
"dijit.form._SearchMixin",  
"dijit.form._Spinner",  
"dijit.form._TextBoxMixin",  
"dijit.form._ToggleButtonMixin",  
"dijit.form.Button",  
"dijit.form.CheckBox",  
"dijit.form.ComboBox",  
"dijit.form.ComboBoxMixin",  
"dijit.form.ComboButton",  
"dijit.form.CurrencyTextBox",  
"dijit.form.DataList",  
"dijit.form.DateTextBox",  
"dijit.form.DropDownButton",  
"dijit.form.Form",  
"dijit.form.HorizontalSlider",  
"dijit.form.MappedTextBox",  
"dijit.form.nls.ComboBox",  
"dijit.form.nls.validate",  
"dijit.form.nls.zh.ComboBox",  
"dijit.form.nls.zh.validate",  
"dijit.form.NumberSpinner",  
"dijit.form.NumberTextBox",  
"dijit.form.RadioButton",  
"dijit.form.RangeBoundTextBox",  
"dijit.form.Select",  
"dijit.form.TextBox",  
"dijit.form.TimeTextBox",  
"dijit.form.ToggleButton",  
"dijit.form.ValidationTextBox",  
"dijit.hccss",  
"dijit.layout._ContentPaneResizeMixin",  
"dijit.layout._LayoutWidget",  
"dijit.layout._TabContainerBase",  
"dijit.layout.AccordionContainer",  
"dijit.layout.AccordionPane",  
"dijit.layout.BorderContainer",  
"dijit.layout.ContentPane",  
"dijit.layout.LayoutContainer",  
"dijit.layout.ScrollingTabController",  
"dijit.layout.StackContainer",  
"dijit.layout.StackController",  
"dijit.layout.TabContainer",  
"dijit.layout.TabController",  
"dijit.layout.utils",  
"dijit.main",  
"dijit.Menu",  
"dijit.MenuItem",  
"dijit.MenuSeparator",  
"dijit.nls.common",  
"dijit.nls.loading",  
"dijit.nls.zh.common",  
"dijit.nls.zh.loading",  
"dijit.place",  
"dijit.popup",  
"dijit.PopupMenuItem",  
"dijit.registry",  
"dijit.selection",  
"dijit.Toolbar",  
"dijit.ToolbarSeparator",  
"dijit.Tooltip",  
"dijit.TooltipDialog",  
"dijit.tree._dndContainer",  
"dijit.tree._dndSelector",  
"dijit.tree.ForestStoreModel",  
"dijit.Tree",  
"dijit.tree.ObjectStoreModel",  
"dijit.tree.TreeStoreModel",  
"dijit.typematic",  
"dijit.Viewport",  
"dijit.WidgetSet",  
"dojo._base.array",  
"dojo._base.browser",  
"dojo._base.Color",  
"dojo._base.config",  
"dojo._base.connect",  
"dojo._base.declare",  
"dojo._base.Deferred",  
"dojo._base.event",  
"dojo._base.fx",  
"dojo._base.html",  
"dojo._base.json",  
"dojo._base.kernel",  
"dojo._base.lang",  
"dojo._base.loader",  
"dojo._base.NodeList",  
"dojo._base.sniff",  
"dojo._base.unload",  
"dojo._base.url",  
"dojo._base.window",  
"dojo._base.xhr",  
"dojo.aspect",  
"dojo.cache",  
"dojo.cldr.monetary",  
"dojo.cldr.nls.currency",  
"dojo.cldr.nls.gregorian",  
"dojo.cldr.nls.number",  
"dojo.cldr.nls.zh.currency",  
"dojo.cldr.nls.zh.gregorian",  
"dojo.cldr.nls.zh.number",  
"dojo.cldr.supplemental",  
"dojo.colors",  
"dojo.cookie",  
"dojo.currency",  
"dojo.data.ItemFileReadStore",  
"dojo.data.ItemFileWriteStore",  
"dojo.data.util.filter",  
"dojo.data.util.simpleFetch",  
"dojo.data.util.sorter",  
"dojo.date",  
"dojo.date.locale",  
"dojo.date.stamp",  
"dojo.Deferred",  
"dojo.dnd.autoscroll",  
"dojo.dnd.AutoSource",  
"dojo.dnd.Avatar",  
"dojo.dnd.common",  
"dojo.dnd.Container",  
"dojo.dnd.Manager",  
"dojo.dnd.move",  
"dojo.dnd.Moveable",  
"dojo.dnd.Mover",  
"dojo.dnd.Selector",  
"dojo.dnd.Source",  
"dojo.dnd.Target",  
"dojo.dnd.TimedMoveable",  
"dojo.dojo",  
"dojo.dom",  
"dojo.dom-attr",  
"dojo.dom-class",  
"dojo.dom-construct",  
"dojo.dom-form",  
"dojo.dom-geometry",  
"dojo.dom-prop",  
"dojo.domReady",  
"dojo.dom-style",  
"dojo.errors.CancelError",  
"dojo.errors.create",  
"dojo.errors.RequestError",  
"dojo.errors.RequestTimeoutError",  
"dojo.Evented",  
"dojo.fx",  
"dojo.fx.Toggler",  
"dojo.has",  
"dojo.hccss",  
"dojo.html",  
"dojo.i18n",  
"dojo.io.iframe",  
"dojo.io-query",  
"dojo.json",  
"dojo.keys",  
"dojo.main",  
"dojo.mouse",  
"dojo.NodeList-dom",  
"dojo.number",  
"dojo.on",  
"dojo.parser",  
"dojo.promise.all",  
"dojo.promise.instrumentation",  
"dojo.promise.Promise",  
"dojo.promise.tracer",  
"dojo.query",  
"dojo.ready",  
"dojo.regexp",  
"dojo.request.default",  
"dojo.request.handlers",  
"dojo.request.iframe",  
"dojo.request",  
"dojo.request.util",  
"dojo.request.watch",  
"dojo.request.xhr",  
"dojo.selector._loader",  
"dojo.selector.acme",  
"dojo.selector.lite",  
"dojo.sniff",  
"dojo.Stateful",  
"dojo.store.Memory",  
"dojo.store.Observable",  
"dojo.store.util.QueryResults",  
"dojo.store.util.SimpleQueryEngine",  
"dojo.string",  
"dojo.text",  
"dojo.topic",  
"dojo.touch",  
"dojo.uacss",  
"dojo.when",  
"dojo.window",  
"dojox.form.FileInput",  
"dojox.form.nls.PasswordValidator",  
"dojox.form.nls.zh.PasswordValidator",  
"dojox.form.PasswordValidator",  
"dojox.grid._Builder",  
"dojox.grid._EditManager",  
"dojox.grid._Events",  
"dojox.grid._FocusManager",  
"dojox.grid._Grid",  
"dojox.grid._Layout",  
"dojox.grid._RowManager",  
"dojox.grid._RowSelector",  
"dojox.grid._Scroller",  
"dojox.grid._SelectionPreserver",  
"dojox.grid._View",  
"dojox.grid._ViewManager",  
"dojox.grid.cells._base",  
"dojox.grid.cells.dijit",  
"dojox.grid.cells",  
"dojox.grid.DataGrid",  
"dojox.grid.DataSelection",  
"dojox.grid.enhanced._Events",  
"dojox.grid.enhanced._FocusManager",  
"dojox.grid.enhanced._Plugin",  
"dojox.grid.enhanced._PluginManager",  
"dojox.grid.enhanced.nls.EnhancedGrid",  
"dojox.grid.enhanced.nls.Filter",  
"dojox.grid.enhanced.nls.Pagination",  
"dojox.grid.enhanced.nls.zh.EnhancedGrid",  
"dojox.grid.enhanced.nls.zh.Filter",  
"dojox.grid.enhanced.nls.zh.Pagination",  
"dojox.grid.enhanced.plugins._RowMapLayer",  
"dojox.grid.enhanced.plugins._SelectionPreserver",  
"dojox.grid.enhanced.plugins._StoreLayer",  
"dojox.grid.enhanced.plugins.AutoScroll",  
"dojox.grid.enhanced.plugins.Dialog",  
"dojox.grid.enhanced.plugins.DnD",  
"dojox.grid.enhanced.plugins.filter._ConditionExpr",  
"dojox.grid.enhanced.plugins.filter._DataExprs",  
"dojox.grid.enhanced.plugins.filter._FilterExpr",  
"dojox.grid.enhanced.plugins.filter.ClearFilterConfirm",  
"dojox.grid.enhanced.plugins.filter.FilterBar",  
"dojox.grid.enhanced.plugins.filter.FilterBuilder",  
"dojox.grid.enhanced.plugins.filter.FilterDefDialog",  
"dojox.grid.enhanced.plugins.filter.FilterLayer",  
"dojox.grid.enhanced.plugins.filter.FilterStatusTip",  
"dojox.grid.enhanced.plugins.Filter",  
"dojox.grid.enhanced.plugins.IndirectSelection",  
"dojox.grid.enhanced.plugins.Menu",  
"dojox.grid.enhanced.plugins.NestedSorting",  
"dojox.grid.enhanced.plugins.Pagination",  
"dojox.grid.enhanced.plugins.Rearrange",  
"dojox.grid.enhanced.plugins.Selector",  
"dojox.grid.EnhancedGrid",  
"dojox.grid.Selection",  
"dojox.grid.util",  
"dojox.html.ellipsis",  
"dojox.html.metrics",  
"dojox.main",  
"dojox.validate._base",  
"dojox.validate.regexp",  
"dojox.validate.web"  
  
            ]  
  
        }  
  
    ],  
  
    prefixes: [  
  
        [ "dijit", "../dijit" ],  
  
        [ "dojox", "../dojox" ]  
  
    ]  
  
}  


根据所需要的组件修改列表.


3. 启动cmd 进入到文件夹文件夹: util\buildscripts 中 ,     运行 build.bat profile=profiles/mydojo.profile.js  将会启动build过程. 
完成之后将会在 util\buildscripts 文件夹中出现一个新的文件夹 erms

4. 将erms文件夹中的三个文件夹 dojo,dijit,dojox拷贝到你的工程目录.
